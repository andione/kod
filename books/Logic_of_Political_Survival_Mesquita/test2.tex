\documentclass[12pt,fleqn]{article}\usepackage{common}
\begin{document}

Polity

http://www.systemicpeace.org/inscrdata.html

\begin{minted}[fontsize=\footnotesize]{python}
import pandas as pd
df = pd.read_csv('bdm2s2_nation_year_data_may2002.csv')
df2 = df[(df['ccode']==640) & (df['year'] > 1980)]
\end{minted}

\begin{minted}[fontsize=\footnotesize]{python}
df2['W2'] = 0.
df2['W2'] += ((pd.isnull(df2['RegimeType'])==False) & \
              (df2['RegimeType'] !=2) & (df2['RegimeType'] != 3)).astype(int)
df2['W2'] += (df2['xrcomp'] >= 2).astype(int)
df2['W2'] += (df2['xropen'] > 2).astype(int)
df2['W2'] += (df2['parcomp'] == 5).astype(int) # none for TR
df2['W2'] = df2['W2'] / 4.
print df2[['parcomp','year','W','W2','S']]
\end{minted}

\begin{verbatim}
13.0
33.0
53.0
53.0
       parcomp  year     W    W2   S
15018        1  1981  0.50  0.50   0
15019        1  1982  0.50  0.50   0
15020        4  1983  0.50  0.50   1
15021        4  1984  0.50  0.50   1
15022        4  1985  0.50  0.50   1
15023        4  1986  0.50  0.50   1
15024        4  1987  0.75  0.75   1
15025        4  1988  0.75  0.75   1
15026        4  1989  0.75  0.75   1
15027        4  1990  0.75  0.75   1
15028        4  1991  0.75  0.75   1
15029        4  1992  0.75  0.75   1
15030        4  1993  0.75  0.75   1
15031        4  1994  0.75  0.75   1
15032        4  1995  0.75  0.75   1
15033        4  1996  0.75  0.75   1
15034        3  1997  0.75  0.75   1
15035        3  1998  0.75  0.75   1
15036        3  1999  0.75  0.75   1
15037        3  2000   NaN  0.50 NaN
\end{verbatim}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{minted}[fontsize=\footnotesize]{python}
df['WS'] = df['W']/(np.log((df['S']+1)*10)/3)
\end{minted}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{minted}[fontsize=\footnotesize]{python}
df2['S2'] = df2['Legselec'] / 2.
print df2[['year','legselec','S','S2']]
\end{minted}

\begin{verbatim}
       year  legselec   S  S2
15018  1981         0   0   0
15019  1982         0   0   0
15020  1983       NaN   1   1
15021  1984       NaN   1   1
15022  1985       NaN   1   1
15023  1986       NaN   1   1
15024  1987       NaN   1   1
15025  1988       NaN   1   1
15026  1989       NaN   1   1
15027  1990       NaN   1   1
15028  1991       NaN   1   1
15029  1992       NaN   1   1
15030  1993       NaN   1   1
15031  1994       NaN   1   1
15032  1995       NaN   1   1
15033  1996       NaN   1   1
15034  1997       NaN   1   1
15035  1998       NaN   1   1
15036  1999       NaN   1   1
15037  2000       NaN NaN NaN
\end{verbatim}

\begin{minted}[fontsize=\footnotesize]{python}
che = pd.read_csv('Preworski_cheibub_tax_data.csv')
che2 = che[(che['ccode']==640) & (che['year'] > 1980)]
che2['S2'] = che2['LEGSELEC'] / 2.
print che2[['year','LEGSELEC','S2']]
\end{minted}

\begin{verbatim}
      year  LEGSELEC  S2
3244  1981         0   0
3245  1982         0   0
3246  1983         2   1
3247  1984         2   1
3248  1985         2   1
3249  1986         2   1
3250  1987         2   1
3251  1988         2   1
3252  1989         2   1
3253  1990         2   1
\end{verbatim}


























\end{document}
